var Vt=Object.defineProperty;var Wt=(t,e,n)=>e in t?Vt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var J=(t,e,n)=>Wt(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();function S(){}const Ot=t=>t;function Mt(t){return t()}function mt(){return Object.create(null)}function H(t){t.forEach(Mt)}function st(t){return typeof t=="function"}function lt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function qt(t){return Object.keys(t).length===0}const Lt=typeof window<"u";let Ft=Lt?()=>window.performance.now():()=>Date.now(),ct=Lt?t=>requestAnimationFrame(t):S;const j=new Set;function Rt(t){j.forEach(e=>{e.c(t)||(j.delete(e),e.f())}),j.size!==0&&ct(Rt)}function Xt(t){let e;return j.size===0&&ct(Rt),{promise:new Promise(n=>{j.add(e={c:t,f:n})}),abort(){j.delete(e)}}}function _(t,e){t.appendChild(e)}function Ct(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Ut(t){const e=x("style");return e.textContent="/* empty */",zt(Ct(t),e),e.sheet}function zt(t,e){return _(t.head||t,e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function P(t){t.parentNode&&t.parentNode.removeChild(t)}function gt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function x(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function D(){return G(" ")}function It(){return G("")}function a(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Gt(t){return Array.from(t.childNodes)}function _t(t,e){e=""+e,t.data!==e&&(t.data=e)}function nt(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Zt(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}const Z=new Map;let K=0;function Kt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Qt(t,e){const n={stylesheet:Ut(e),rules:{}};return Z.set(t,n),n}function yt(t,e,n,o,i,c,s,l=0){const d=16.666/o;let r=`{
`;for(let p=0;p<=1;p+=d){const w=e+(n-e)*c(p);r+=p*100+`%{${s(w,1-w)}}
`}const u=r+`100% {${s(n,1-n)}}
}`,f=`__svelte_${Kt(u)}_${l}`,y=Ct(t),{stylesheet:g,rules:h}=Z.get(y)||Qt(y,t);h[f]||(h[f]=!0,g.insertRule(`@keyframes ${f} ${u}`,g.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${o}ms linear ${i}ms 1 both`,K+=1,f}function Jt(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?c=>c.indexOf(e)<0:c=>c.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),K-=i,K||te())}function te(){ct(()=>{K||(Z.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&P(e)}),Z.clear())})}let F;function q(t){F=t}function ee(){if(!F)throw new Error("Function called outside component initialization");return F}function ft(t){ee().$$.on_mount.push(t)}const I=[],$t=[];let B=[];const wt=[],ne=Promise.resolve();let ot=!1;function oe(){ot||(ot=!0,ne.then(Dt))}function X(t){B.push(t)}const tt=new Set;let L=0;function Dt(){if(L!==0)return;const t=F;do{try{for(;L<I.length;){const e=I[L];L++,q(e),ie(e.$$)}}catch(e){throw I.length=0,L=0,e}for(q(null),I.length=0,L=0;$t.length;)$t.pop()();for(let e=0;e<B.length;e+=1){const n=B[e];tt.has(n)||(tt.add(n),n())}B.length=0}while(I.length);for(;wt.length;)wt.pop()();ot=!1,tt.clear(),q(t)}function ie(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}function re(t){const e=[],n=[];B.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),B=e}let V;function se(){return V||(V=Promise.resolve(),V.then(()=>{V=null})),V}function et(t,e,n){t.dispatchEvent(Zt(`${e?"intro":"outro"}${n}`))}const z=new Set;let E;function jt(){E={r:0,c:[],p:E}}function Bt(){E.r||H(E.c),E=E.p}function N(t,e){t&&t.i&&(z.delete(t),t.i(e))}function Y(t,e,n,o){if(t&&t.o){if(z.has(t))return;z.add(t),E.c.push(()=>{z.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const le={duration:0};function bt(t,e,n,o){let c=e(t,n,{direction:"both"}),s=o?0:1,l=null,d=null,r=null,u;function f(){r&&Jt(t,r)}function y(h,m){const p=h.b-s;return m*=Math.abs(p),{a:s,b:h.b,d:p,duration:m,start:h.start,end:h.start+m,group:h.group}}function g(h){const{delay:m=0,duration:p=300,easing:w=Ot,tick:$=S,css:v}=c||le,A={start:Ft()+m,b:h};h||(A.group=E,E.r+=1),"inert"in t&&(h?u!==void 0&&(t.inert=u):(u=t.inert,t.inert=!0)),l||d?d=A:(v&&(f(),r=yt(t,s,h,p,m,w,v)),h&&$(0,1),l=y(A,p),X(()=>et(t,h,"start")),Xt(O=>{if(d&&O>d.start&&(l=y(d,p),d=null,et(t,l.b,"start"),v&&(f(),r=yt(t,s,l.b,l.duration,0,w,c.css))),l){if(O>=l.end)$(s=l.b,1-s),et(t,l.b,"end"),d||(l.b?f():--l.group.r||H(l.group.c)),l=null;else if(O>=l.start){const T=O-l.start;s=l.a+l.d*w(T/l.duration),$(s,1-s)}}return!!(l||d)}))}return{run(h){st(c)?se().then(()=>{c=c({direction:h?"in":"out"}),g(h)}):g(h)},end(){f(),l=d=null}}}function U(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function vt(t){t&&t.c()}function it(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),X(()=>{const c=t.$$.on_mount.map(Mt).filter(st);t.$$.on_destroy?t.$$.on_destroy.push(...c):H(c),t.$$.on_mount=[]}),i.forEach(X)}function rt(t,e){const n=t.$$;n.fragment!==null&&(re(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ce(t,e){t.$$.dirty[0]===-1&&(I.push(t),oe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(t,e,n,o,i,c,s=null,l=[-1]){const d=F;q(t);const r=t.$$={fragment:null,ctx:[],props:c,update:S,not_equal:i,bound:mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:mt(),dirty:l,skip_bound:!1,root:e.target||d.$$.root};s&&s(r.root);let u=!1;if(r.ctx=n?n(t,e.props||{},(f,y,...g)=>{const h=g.length?g[0]:y;return r.ctx&&i(r.ctx[f],r.ctx[f]=h)&&(!r.skip_bound&&r.bound[f]&&r.bound[f](h),u&&ce(t,f)),y}):[],r.update(),u=!0,H(r.before_update),r.fragment=o?o(r.ctx):!1,e.target){if(e.hydrate){const f=Gt(e.target);r.fragment&&r.fragment.l(f),f.forEach(P)}else r.fragment&&r.fragment.c();e.intro&&N(t.$$.fragment),it(t,e.target,e.anchor),Dt()}q(d)}class ut{constructor(){J(this,"$$");J(this,"$$set")}$destroy(){rt(this,1),this.$destroy=S}$on(e,n){if(!st(n))return S;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!qt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(fe);var Yt=(t=>(t.FLAT="FLAT",t.POINTY="POINTY",t))(Yt||{});Yt.POINTY;var W=(t=>(t[t.N=0]="N",t[t.NE=1]="NE",t[t.E=2]="E",t[t.SE=3]="SE",t[t.S=4]="S",t[t.SW=5]="SW",t[t.W=6]="W",t[t.NW=7]="NW",t))(W||{});W.E,W.N,W.S,W.W;function xt(t,e,n){const o=t.slice();o[7]=e[n],o[10]=n;const i=o[0][o[7].key]||0;return o[8]=i,o}function Et(t,e,n){const o=t.slice();return o[7]=e[n],o[10]=n,o}function Nt(t){let e,n;return{c(){e=k("clipPath"),n=k("path"),a(n,"d",t[2](t[7].x,t[7].y,5)),a(e,"id","clip-"+t[10])},m(o,i){M(o,e,i),_(e,n)},p:S,d(o){o&&P(e)}}}function Pt(t){let e,n,o,i,c,s,l,d,r;return{c(){e=k("g"),n=k("path"),o=k("rect"),s=k("foreignObject"),l=x("div"),d=x("i"),r=D(),a(n,"d",t[2](t[7].x,t[7].y,5)),a(n,"stroke",t[7].color),a(n,"stroke-width","2"),a(n,"stroke-linejoin","round"),a(n,"stroke-linecap","round"),a(n,"fill","#2c2c2c"),a(n,"fill-opacity","0.5"),a(o,"x",t[7].x-b),a(o,"y",i=t[7].y+b-2*b*(t[8]/100)),a(o,"width",2*b),a(o,"height",c=2*b*(t[8]/100)),a(o,"fill",t[7].color),a(o,"clip-path","url(#clip-"+t[10]+")"),a(o,"class","transition-all duration-300 ease-out"),nt(o,"opacity","0.8"),a(d,"class","fa-solid "+t[7].icon+" text-[1.2rem]"),a(l,"class","w-full h-full flex items-center justify-center text-white drop-shadow-sm"),a(s,"x",t[7].x-b),a(s,"y",t[7].y-b),a(s,"width",2*b),a(s,"height",2*b),a(s,"class","pointer-events-none")},m(u,f){M(u,e,f),_(e,n),_(e,o),_(e,s),_(s,l),_(l,d),_(l,r)},p(u,f){f&1&&i!==(i=u[7].y+b-2*b*(u[8]/100))&&a(o,"y",i),f&1&&c!==(c=2*b*(u[8]/100))&&a(o,"height",c)},d(u){u&&P(e)}}}function ae(t){let e,n,o=U(t[1]),i=[];for(let l=0;l<o.length;l+=1)i[l]=Nt(Et(t,o,l));let c=U(t[1]),s=[];for(let l=0;l<c.length;l+=1)s[l]=Pt(xt(t,c,l));return{c(){e=k("svg"),n=k("defs");for(let l=0;l<i.length;l+=1)i[l].c();for(let l=0;l<s.length;l+=1)s[l].c();a(e,"width","250"),a(e,"height","200"),a(e,"viewBox",de),a(e,"class","overflow-visible drop-shadow-md")},m(l,d){M(l,e,d),_(e,n);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(n,null);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(l,[d]){if(d&6){o=U(l[1]);let r;for(r=0;r<o.length;r+=1){const u=Et(l,o,r);i[r]?i[r].p(u,d):(i[r]=Nt(u),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}if(d&7){c=U(l[1]);let r;for(r=0;r<c.length;r+=1){const u=xt(l,c,r);s[r]?s[r].p(u,d):(s[r]=Pt(u),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=c.length}},i:S,o:S,d(l){l&&P(e),gt(i,l),gt(s,l)}}}const b=30,ue=5,R=125,C=40,de="0 0 250 200";function he(t,e,n){let o={health:100,armor:0,hunger:100,thirst:100,stress:0};ft(()=>{window.addEventListener("message",u=>{var f;((f=u==null?void 0:u.data)==null?void 0:f.action)==="updateStatus"&&n(0,o={...o,...u.data.data})})});const i=b+ue/Math.sqrt(3),c=Math.sqrt(3)*i/2,s=1.5*i,l=[{key:"stress",icon:"fa-bolt",color:"#88b04b",label:"Energy",x:R,y:C},{key:"thirst",icon:"fa-glass-water",color:"#3498db",label:"Drink",x:R-c,y:C+s},{key:"armor",icon:"fa-shield-halved",color:"#9b59b6",label:"Defense",x:R+c,y:C+s},{key:"hunger",icon:"fa-drumstick-bite",color:"#e67e22",label:"Food",x:R-2*c,y:C+2*s},{key:"health",icon:"fa-heart",color:"#e91e63",label:"Health",x:R,y:C+2*s},{key:"stamina",icon:"fa-person-running",color:"#fbbf24",label:"Stamina",x:R+2*c,y:C+2*s}],d=(u,f)=>{const y=[];for(let g=0;g<6;g++){const h=30+60*g,m=Math.PI/180*h;y.push({x:u+b*Math.cos(m),y:f+b*Math.sin(m)})}return{corners:y}};return[o,l,(u,f,y=5)=>{const{corners:g}=d(u,f);let h="";for(let m=0;m<g.length;m++){const p=g[m],w=g[(m+1)%g.length],$=g[(m-1+g.length)%g.length],v=$.x-p.x,A=$.y-p.y,O=Math.sqrt(v*v+A*A),T=w.x-p.x,Q=w.y-p.y,dt=Math.sqrt(T*T+Q*Q),ht=p.x+v/O*y,pt=p.y+A/O*y,Ht=p.x+T/dt*y,Tt=p.y+Q/dt*y;m===0?h+=`M ${ht} ${pt}`:h+=`L ${ht} ${pt}`,h+=`Q ${p.x} ${p.y} ${Ht} ${Tt}`}return h+="Z",h}]}class pe extends ut{constructor(e){super(),at(this,e,he,ae,lt,{})}}function kt(t,{delay:e=0,duration:n=400,easing:o=Ot}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:c=>`opacity: ${c*i}`}}function St(t){let e,n,o,i,c,s,l,d,r,u,f,y=(t[3]===0?"R":t[3])+"",g,h,m,p,w;return{c(){e=x("div"),n=x("div"),o=x("div"),i=D(),c=x("div"),s=x("span"),l=G(t[1]),d=D(),r=x("span"),r.textContent="KMH",u=D(),f=x("div"),g=G(y),h=D(),m=x("span"),m.textContent="GEAR",a(o,"class","h-full bg-red-500 shadow-[0_0_10px_rgba(239,68,68,0.5)] transition-all duration-100 ease-out"),nt(o,"width",t[2]*100+"%"),a(n,"class","w-24 h-2 bg-neutral-800/60 rounded-full overflow-hidden mb-1"),a(s,"class","text-4xl font-bold tracking-tighter drop-shadow-md"),a(r,"class","text-lg font-medium opacity-60"),a(c,"class","flex items-baseline gap-1"),a(m,"class","opacity-50 font-normal text-xs ml-0.5"),a(f,"class","text-sm font-bold text-neutral-300 tracking-wide"),a(e,"class","flex flex-col items-center gap-1 font-sans text-white")},m($,v){M($,e,v),_(e,n),_(n,o),_(e,i),_(e,c),_(c,s),_(s,l),_(c,d),_(c,r),_(e,u),_(e,f),_(f,g),_(f,h),_(f,m),w=!0},p($,v){(!w||v&4)&&nt(o,"width",$[2]*100+"%"),(!w||v&2)&&_t(l,$[1]),(!w||v&8)&&y!==(y=($[3]===0?"R":$[3])+"")&&_t(g,y)},i($){w||($&&X(()=>{w&&(p||(p=bt(e,kt,{duration:200},!0)),p.run(1))}),w=!0)},o($){$&&(p||(p=bt(e,kt,{duration:200},!1)),p.run(0)),w=!1},d($){$&&P(e),$&&p&&p.end()}}}function me(t){let e,n=t[0]&&St(t);return{c(){n&&n.c(),e=It()},m(o,i){n&&n.m(o,i),M(o,e,i)},p(o,[i]){o[0]?n?(n.p(o,i),i&1&&N(n,1)):(n=St(o),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(jt(),Y(n,1,1,()=>{n=null}),Bt())},i(o){N(n)},o(o){Y(n)},d(o){o&&P(e),n&&n.d(o)}}}function ge(t,e,n){let o=!1,i=0,c=0,s=1;return ft(()=>{window.addEventListener("message",l=>{const{action:d,data:r}=l.data;d==="updateVehicle"&&(console.log("Vehicle HUD Update:",r),n(0,o=r.show),o&&(n(1,i=Math.floor(r.speed)),r.fuel,n(2,c=r.rpm),n(3,s=r.gear)))})}),[o,i,c,s]}class _e extends ut{constructor(e){super(),at(this,e,ge,me,lt,{})}}function At(t){let e,n,o,i,c;return n=new pe({}),i=new _e({}),{c(){e=x("main"),vt(n.$$.fragment),o=D(),vt(i.$$.fragment),a(e,"class","fixed bottom-4 left-4 w-auto h-auto flex items-end")},m(s,l){M(s,e,l),it(n,e,null),_(e,o),it(i,e,null),c=!0},i(s){c||(N(n.$$.fragment,s),N(i.$$.fragment,s),c=!0)},o(s){Y(n.$$.fragment,s),Y(i.$$.fragment,s),c=!1},d(s){s&&P(e),rt(n),rt(i)}}}function ye(t){let e,n,o=t[0]&&At();return{c(){o&&o.c(),e=It()},m(i,c){o&&o.m(i,c),M(i,e,c),n=!0},p(i,[c]){i[0]?o?c&1&&N(o,1):(o=At(),o.c(),N(o,1),o.m(e.parentNode,e)):o&&(jt(),Y(o,1,1,()=>{o=null}),Bt())},i(i){n||(N(o),n=!0)},o(i){Y(o),n=!1},d(i){i&&P(e),o&&o.d(i)}}}function $e(t,e,n){let o=!0;return ft(()=>{window.addEventListener("message",i=>{const{action:c,data:s}=i.data;c==="setVisible"&&n(0,o=s)})}),[o]}class we extends ut{constructor(e){super(),at(this,e,$e,ye,lt,{})}}new we({target:document.getElementById("app")});
