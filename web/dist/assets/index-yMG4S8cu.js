var Vt=Object.defineProperty;var Wt=(t,e,n)=>e in t?Vt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var J=(t,e,n)=>Wt(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function S(){}const Ot=t=>t;function Mt(t){return t()}function mt(){return Object.create(null)}function H(t){t.forEach(Mt)}function st(t){return typeof t=="function"}function lt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function qt(t){return Object.keys(t).length===0}const Lt=typeof window<"u";let Ft=Lt?()=>window.performance.now():()=>Date.now(),ct=Lt?t=>requestAnimationFrame(t):S;const j=new Set;function Rt(t){j.forEach(e=>{e.c(t)||(j.delete(e),e.f())}),j.size!==0&&ct(Rt)}function Xt(t){let e;return j.size===0&&ct(Rt),{promise:new Promise(n=>{j.add(e={c:t,f:n})}),abort(){j.delete(e)}}}function _(t,e){t.appendChild(e)}function Ct(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Ut(t){const e=x("style");return e.textContent="/* empty */",zt(Ct(t),e),e.sheet}function zt(t,e){return _(t.head||t,e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function P(t){t.parentNode&&t.parentNode.removeChild(t)}function gt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function x(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function G(t){return document.createTextNode(t)}function D(){return G(" ")}function It(){return G("")}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Gt(t){return Array.from(t.childNodes)}function _t(t,e){e=""+e,t.data!==e&&(t.data=e)}function nt(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Zt(t,e,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:o})}const Z=new Map;let K=0;function Kt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Qt(t,e){const n={stylesheet:Ut(e),rules:{}};return Z.set(t,n),n}function yt(t,e,n,o,i,r,l,c=0){const f=16.666/o;let a=`{
`;for(let p=0;p<=1;p+=f){const w=e+(n-e)*r(p);a+=p*100+`%{${l(w,1-w)}}
`}const s=a+`100% {${l(n,1-n)}}
}`,u=`__svelte_${Kt(s)}_${c}`,y=Ct(t),{stylesheet:g,rules:h}=Z.get(y)||Qt(y,t);h[u]||(h[u]=!0,g.insertRule(`@keyframes ${u} ${s}`,g.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${u} ${o}ms linear ${i}ms 1 both`,K+=1,u}function Jt(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),i=n.length-o.length;i&&(t.style.animation=o.join(", "),K-=i,K||te())}function te(){ct(()=>{K||(Z.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&P(e)}),Z.clear())})}let F;function q(t){F=t}function ee(){if(!F)throw new Error("Function called outside component initialization");return F}function ft(t){ee().$$.on_mount.push(t)}const I=[],$t=[];let B=[];const wt=[],ne=Promise.resolve();let ot=!1;function oe(){ot||(ot=!0,ne.then(Dt))}function X(t){B.push(t)}const tt=new Set;let L=0;function Dt(){if(L!==0)return;const t=F;do{try{for(;L<I.length;){const e=I[L];L++,q(e),ie(e.$$)}}catch(e){throw I.length=0,L=0,e}for(q(null),I.length=0,L=0;$t.length;)$t.pop()();for(let e=0;e<B.length;e+=1){const n=B[e];tt.has(n)||(tt.add(n),n())}B.length=0}while(I.length);for(;wt.length;)wt.pop()();ot=!1,tt.clear(),q(t)}function ie(t){if(t.fragment!==null){t.update(),H(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(X)}}function re(t){const e=[],n=[];B.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),B=e}let V;function se(){return V||(V=Promise.resolve(),V.then(()=>{V=null})),V}function et(t,e,n){t.dispatchEvent(Zt(`${e?"intro":"outro"}${n}`))}const z=new Set;let E;function jt(){E={r:0,c:[],p:E}}function Bt(){E.r||H(E.c),E=E.p}function N(t,e){t&&t.i&&(z.delete(t),t.i(e))}function Y(t,e,n,o){if(t&&t.o){if(z.has(t))return;z.add(t),E.c.push(()=>{z.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const le={duration:0};function bt(t,e,n,o){let r=e(t,n,{direction:"both"}),l=o?0:1,c=null,f=null,a=null,s;function u(){a&&Jt(t,a)}function y(h,m){const p=h.b-l;return m*=Math.abs(p),{a:l,b:h.b,d:p,duration:m,start:h.start,end:h.start+m,group:h.group}}function g(h){const{delay:m=0,duration:p=300,easing:w=Ot,tick:$=S,css:v}=r||le,A={start:Ft()+m,b:h};h||(A.group=E,E.r+=1),"inert"in t&&(h?s!==void 0&&(t.inert=s):(s=t.inert,t.inert=!0)),c||f?f=A:(v&&(u(),a=yt(t,l,h,p,m,w,v)),h&&$(0,1),c=y(A,p),X(()=>et(t,h,"start")),Xt(O=>{if(f&&O>f.start&&(c=y(f,p),f=null,et(t,c.b,"start"),v&&(u(),a=yt(t,l,c.b,c.duration,0,w,r.css))),c){if(O>=c.end)$(l=c.b,1-l),et(t,c.b,"end"),f||(c.b?u():--c.group.r||H(c.group.c)),c=null;else if(O>=c.start){const T=O-c.start;l=c.a+c.d*w(T/c.duration),$(l,1-l)}}return!!(c||f)}))}return{run(h){st(r)?se().then(()=>{r=r({direction:h?"in":"out"}),g(h)}):g(h)},end(){u(),c=f=null}}}function U(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function vt(t){t&&t.c()}function it(t,e,n){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),X(()=>{const r=t.$$.on_mount.map(Mt).filter(st);t.$$.on_destroy?t.$$.on_destroy.push(...r):H(r),t.$$.on_mount=[]}),i.forEach(X)}function rt(t,e){const n=t.$$;n.fragment!==null&&(re(n.after_update),H(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ce(t,e){t.$$.dirty[0]===-1&&(I.push(t),oe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(t,e,n,o,i,r,l=null,c=[-1]){const f=F;q(t);const a=t.$$={fragment:null,ctx:[],props:r,update:S,not_equal:i,bound:mt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:mt(),dirty:c,skip_bound:!1,root:e.target||f.$$.root};l&&l(a.root);let s=!1;if(a.ctx=n?n(t,e.props||{},(u,y,...g)=>{const h=g.length?g[0]:y;return a.ctx&&i(a.ctx[u],a.ctx[u]=h)&&(!a.skip_bound&&a.bound[u]&&a.bound[u](h),s&&ce(t,u)),y}):[],a.update(),s=!0,H(a.before_update),a.fragment=o?o(a.ctx):!1,e.target){if(e.hydrate){const u=Gt(e.target);a.fragment&&a.fragment.l(u),u.forEach(P)}else a.fragment&&a.fragment.c();e.intro&&N(t.$$.fragment),it(t,e.target,e.anchor),Dt()}q(f)}class ut{constructor(){J(this,"$$");J(this,"$$set")}$destroy(){rt(this,1),this.$destroy=S}$on(e,n){if(!st(n))return S;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!qt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fe="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(fe);var Yt=(t=>(t.FLAT="FLAT",t.POINTY="POINTY",t))(Yt||{});Yt.POINTY;var W=(t=>(t[t.N=0]="N",t[t.NE=1]="NE",t[t.E=2]="E",t[t.SE=3]="SE",t[t.S=4]="S",t[t.SW=5]="SW",t[t.W=6]="W",t[t.NW=7]="NW",t))(W||{});W.E,W.N,W.S,W.W;function xt(t,e,n){const o=t.slice();o[7]=e[n],o[10]=n;const i=o[0][o[7].key]||0;return o[8]=i,o}function Et(t,e,n){const o=t.slice();return o[7]=e[n],o[10]=n,o}function Nt(t){let e,n;return{c(){e=k("clipPath"),n=k("path"),d(n,"d",t[2](t[7].x,t[7].y,5)),d(e,"id","clip-"+t[10])},m(o,i){M(o,e,i),_(e,n)},p:S,d(o){o&&P(e)}}}function Pt(t){let e,n,o,i,r,l,c,f,a;return{c(){e=k("g"),n=k("path"),o=k("rect"),l=k("foreignObject"),c=x("div"),f=x("i"),a=D(),d(n,"d",t[2](t[7].x,t[7].y,5)),d(n,"stroke",t[7].color),d(n,"stroke-width","2"),d(n,"stroke-linejoin","round"),d(n,"stroke-linecap","round"),d(n,"fill","#2c2c2c"),d(n,"fill-opacity","0.5"),d(o,"x",t[7].x-b),d(o,"y",i=t[7].y+b-2*b*(t[8]/100)),d(o,"width",2*b),d(o,"height",r=2*b*(t[8]/100)),d(o,"fill",t[7].color),d(o,"clip-path","url(#clip-"+t[10]+")"),d(o,"class","transition-all duration-300 ease-out"),nt(o,"opacity","0.8"),d(f,"class","fa-solid "+t[7].icon+" text-[1.2rem]"),d(c,"class","w-full h-full flex items-center justify-center text-white drop-shadow-sm"),d(l,"x",t[7].x-b),d(l,"y",t[7].y-b),d(l,"width",2*b),d(l,"height",2*b),d(l,"class","pointer-events-none")},m(s,u){M(s,e,u),_(e,n),_(e,o),_(e,l),_(l,c),_(c,f),_(c,a)},p(s,u){u&1&&i!==(i=s[7].y+b-2*b*(s[8]/100))&&d(o,"y",i),u&1&&r!==(r=2*b*(s[8]/100))&&d(o,"height",r)},d(s){s&&P(e)}}}function ae(t){let e,n,o,i=U(t[1]),r=[];for(let f=0;f<i.length;f+=1)r[f]=Nt(Et(t,i,f));let l=U(t[1]),c=[];for(let f=0;f<l.length;f+=1)c[f]=Pt(xt(t,l,f));return{c(){e=x("div"),n=k("svg"),o=k("defs");for(let f=0;f<r.length;f+=1)r[f].c();for(let f=0;f<c.length;f+=1)c[f].c();d(n,"width","250"),d(n,"height","200"),d(n,"viewBox",de),d(n,"class","overflow-visible drop-shadow-md"),d(e,"class","fixed bottom-8 left-8")},m(f,a){M(f,e,a),_(e,n),_(n,o);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(o,null);for(let s=0;s<c.length;s+=1)c[s]&&c[s].m(n,null)},p(f,[a]){if(a&6){i=U(f[1]);let s;for(s=0;s<i.length;s+=1){const u=Et(f,i,s);r[s]?r[s].p(u,a):(r[s]=Nt(u),r[s].c(),r[s].m(o,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=i.length}if(a&7){l=U(f[1]);let s;for(s=0;s<l.length;s+=1){const u=xt(f,l,s);c[s]?c[s].p(u,a):(c[s]=Pt(u),c[s].c(),c[s].m(n,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=l.length}},i:S,o:S,d(f){f&&P(e),gt(r,f),gt(c,f)}}}const b=30,ue=5,R=125,C=40,de="0 0 250 200";function he(t,e,n){let o={health:100,armor:0,hunger:100,thirst:100,stress:0};ft(()=>{window.addEventListener("message",s=>{var u;((u=s==null?void 0:s.data)==null?void 0:u.action)==="updateStatus"&&n(0,o={...o,...s.data.data})})});const i=b+ue/Math.sqrt(3),r=Math.sqrt(3)*i/2,l=1.5*i,c=[{key:"stress",icon:"fa-bolt",color:"#88b04b",label:"Energy",x:R,y:C},{key:"thirst",icon:"fa-glass-water",color:"#3498db",label:"Drink",x:R-r,y:C+l},{key:"armor",icon:"fa-shield-halved",color:"#9b59b6",label:"Defense",x:R+r,y:C+l},{key:"hunger",icon:"fa-drumstick-bite",color:"#e67e22",label:"Food",x:R-2*r,y:C+2*l},{key:"health",icon:"fa-heart",color:"#e91e63",label:"Health",x:R,y:C+2*l},{key:"stamina",icon:"fa-person-running",color:"#fbbf24",label:"Stamina",x:R+2*r,y:C+2*l}],f=(s,u)=>{const y=[];for(let g=0;g<6;g++){const h=30+60*g,m=Math.PI/180*h;y.push({x:s+b*Math.cos(m),y:u+b*Math.sin(m)})}return{corners:y}};return[o,c,(s,u,y=5)=>{const{corners:g}=f(s,u);let h="";for(let m=0;m<g.length;m++){const p=g[m],w=g[(m+1)%g.length],$=g[(m-1+g.length)%g.length],v=$.x-p.x,A=$.y-p.y,O=Math.sqrt(v*v+A*A),T=w.x-p.x,Q=w.y-p.y,dt=Math.sqrt(T*T+Q*Q),ht=p.x+v/O*y,pt=p.y+A/O*y,Ht=p.x+T/dt*y,Tt=p.y+Q/dt*y;m===0?h+=`M ${ht} ${pt}`:h+=`L ${ht} ${pt}`,h+=`Q ${p.x} ${p.y} ${Ht} ${Tt}`}return h+="Z",h}]}class pe extends ut{constructor(e){super(),at(this,e,he,ae,lt,{})}}function kt(t,{delay:e=0,duration:n=400,easing:o=Ot}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:r=>`opacity: ${r*i}`}}function St(t){let e,n,o,i,r,l,c,f,a,s,u,y=(t[3]===0?"R":t[3])+"",g,h,m,p,w;return{c(){e=x("div"),n=x("div"),o=x("div"),i=D(),r=x("div"),l=x("span"),c=G(t[1]),f=D(),a=x("span"),a.textContent="KMH",s=D(),u=x("div"),g=G(y),h=D(),m=x("span"),m.textContent="GEAR",d(o,"class","h-full bg-red-500 shadow-[0_0_10px_rgba(239,68,68,0.5)] transition-all duration-100 ease-out"),nt(o,"width",t[2]*100+"%"),d(n,"class","w-24 h-2 bg-neutral-800/60 rounded-full overflow-hidden mb-1"),d(l,"class","text-4xl font-bold tracking-tighter drop-shadow-md"),d(a,"class","text-lg font-medium opacity-60"),d(r,"class","flex items-baseline gap-1"),d(m,"class","opacity-50 font-normal text-xs ml-0.5"),d(u,"class","text-sm font-bold text-neutral-300 tracking-wide"),d(e,"class","fixed bottom-8 ml-[200px] flex flex-col items-center gap-1 font-sans text-white")},m($,v){M($,e,v),_(e,n),_(n,o),_(e,i),_(e,r),_(r,l),_(l,c),_(r,f),_(r,a),_(e,s),_(e,u),_(u,g),_(u,h),_(u,m),w=!0},p($,v){(!w||v&4)&&nt(o,"width",$[2]*100+"%"),(!w||v&2)&&_t(c,$[1]),(!w||v&8)&&y!==(y=($[3]===0?"R":$[3])+"")&&_t(g,y)},i($){w||($&&X(()=>{w&&(p||(p=bt(e,kt,{duration:200},!0)),p.run(1))}),w=!0)},o($){$&&(p||(p=bt(e,kt,{duration:200},!1)),p.run(0)),w=!1},d($){$&&P(e),$&&p&&p.end()}}}function me(t){let e,n=t[0]&&St(t);return{c(){n&&n.c(),e=It()},m(o,i){n&&n.m(o,i),M(o,e,i)},p(o,[i]){o[0]?n?(n.p(o,i),i&1&&N(n,1)):(n=St(o),n.c(),N(n,1),n.m(e.parentNode,e)):n&&(jt(),Y(n,1,1,()=>{n=null}),Bt())},i(o){N(n)},o(o){Y(n)},d(o){o&&P(e),n&&n.d(o)}}}function ge(t,e,n){let o=!1,i=0,r=0,l=1;return ft(()=>{window.addEventListener("message",c=>{const{action:f,data:a}=c.data;f==="updateVehicle"&&(console.log("Vehicle HUD Update:",a),n(0,o=a.show),o&&(n(1,i=Math.floor(a.speed)),a.fuel,n(2,r=a.rpm),n(3,l=a.gear)))})}),[o,i,r,l]}class _e extends ut{constructor(e){super(),at(this,e,ge,me,lt,{})}}function At(t){let e,n,o,i,r;return n=new pe({}),i=new _e({}),{c(){e=x("main"),vt(n.$$.fragment),o=D(),vt(i.$$.fragment),d(e,"class","fixed bottom-4 left-4 w-auto h-auto flex items-end")},m(l,c){M(l,e,c),it(n,e,null),_(e,o),it(i,e,null),r=!0},i(l){r||(N(n.$$.fragment,l),N(i.$$.fragment,l),r=!0)},o(l){Y(n.$$.fragment,l),Y(i.$$.fragment,l),r=!1},d(l){l&&P(e),rt(n),rt(i)}}}function ye(t){let e,n,o=t[0]&&At();return{c(){o&&o.c(),e=It()},m(i,r){o&&o.m(i,r),M(i,e,r),n=!0},p(i,[r]){i[0]?o?r&1&&N(o,1):(o=At(),o.c(),N(o,1),o.m(e.parentNode,e)):o&&(jt(),Y(o,1,1,()=>{o=null}),Bt())},i(i){n||(N(o),n=!0)},o(i){Y(o),n=!1},d(i){i&&P(e),o&&o.d(i)}}}function $e(t,e,n){let o=!0;return ft(()=>{window.addEventListener("message",i=>{const{action:r,data:l}=i.data;r==="setVisible"&&n(0,o=l)})}),[o]}class we extends ut{constructor(e){super(),at(this,e,$e,ye,lt,{})}}new we({target:document.getElementById("app")});
