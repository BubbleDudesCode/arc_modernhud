var Ze=Object.defineProperty;var Ge=(e,t,n)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var he=(e,t,n)=>Ge(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}})();function Y(){}const He=e=>e;function Te(e){return e()}function Ee(){return Object.create(null)}function J(e){e.forEach(Te)}function $e(e){return typeof e=="function"}function we(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ke(e){return Object.keys(e).length===0}const Ye=typeof window<"u";let Qe=Ye?()=>window.performance.now():()=>Date.now(),ve=Ye?e=>requestAnimationFrame(e):Y;const G=new Set;function Ve(e){G.forEach(t=>{t.c(e)||(G.delete(t),t.f())}),G.size!==0&&ve(Ve)}function Je(e){let t;return G.size===0&&ve(Ve),{promise:new Promise(n=>{G.add(t={c:e,f:n})}),abort(){G.delete(t)}}}function d(e,t){e.appendChild(t)}function We(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function et(e){const t=w("style");return t.textContent="/* empty */",tt(We(e),t),t.sheet}function tt(e,t){return d(e.head||e,t),t.sheet}function W(e,t,n){e.insertBefore(t,n||null)}function B(e){e.parentNode&&e.parentNode.removeChild(e)}function Ne(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Z(e){return document.createTextNode(e)}function T(){return Z(" ")}function qe(){return Z("")}function l(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function nt(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.data!==t&&(e.data=t)}function ot(e,t,n,o){e.style.setProperty(t,n,"")}function it(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}const ue=new Map;let de=0;function st(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function rt(e,t){const n={stylesheet:et(t),rules:{}};return ue.set(e,n),n}function Se(e,t,n,o,i,c,f,s=0){const a=16.666/o;let r=`{
`;for(let m=0;m<=1;m+=a){const x=t+(n-t)*c(m);r+=m*100+`%{${f(x,1-x)}}
`}const u=r+`100% {${f(n,1-n)}}
}`,h=`__svelte_${st(u)}_${s}`,y=We(e),{stylesheet:_,rules:p}=ue.get(y)||rt(y,e);p[h]||(p[h]=!0,_.insertRule(`@keyframes ${h} ${u}`,_.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${h} ${o}ms linear ${i}ms 1 both`,de+=1,h}function lt(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?c=>c.indexOf(t)<0:c=>c.indexOf("__svelte")===-1),i=n.length-o.length;i&&(e.style.animation=o.join(", "),de-=i,de||ct())}function ct(){ve(()=>{de||(ue.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&B(t)}),ue.clear())})}let ie;function oe(e){ie=e}function ft(){if(!ie)throw new Error("Function called outside component initialization");return ie}function be(e){ft().$$.on_mount.push(e)}const z=[],Pe=[];let K=[];const Ae=[],at=Promise.resolve();let me=!1;function ut(){me||(me=!0,at.then(Fe))}function se(e){K.push(e)}const pe=new Set;let F=0;function Fe(){if(F!==0)return;const e=ie;do{try{for(;F<z.length;){const t=z[F];F++,oe(t),dt(t.$$)}}catch(t){throw z.length=0,F=0,t}for(oe(null),z.length=0,F=0;Pe.length;)Pe.pop()();for(let t=0;t<K.length;t+=1){const n=K[t];pe.has(n)||(pe.add(n),n())}K.length=0}while(z.length);for(;Ae.length;)Ae.pop()();me=!1,pe.clear(),oe(e)}function dt(e){if(e.fragment!==null){e.update(),J(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(se)}}function ht(e){const t=[],n=[];K.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),K=t}let te;function pt(){return te||(te=Promise.resolve(),te.then(()=>{te=null})),te}function ge(e,t,n){e.dispatchEvent(it(`${t?"intro":"outro"}${n}`))}const ae=new Set;let I;function Xe(){I={r:0,c:[],p:I}}function Ue(){I.r||J(I.c),I=I.p}function C(e,t){e&&e.i&&(ae.delete(e),e.i(t))}function Q(e,t,n,o){if(e&&e.o){if(ae.has(e))return;ae.add(e),I.c.push(()=>{ae.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}const gt={duration:0};function Oe(e,t,n,o){let c=t(e,n,{direction:"both"}),f=o?0:1,s=null,a=null,r=null,u;function h(){r&&lt(e,r)}function y(p,g){const m=p.b-f;return g*=Math.abs(m),{a:f,b:p.b,d:m,duration:g,start:p.start,end:p.start+g,group:p.group}}function _(p){const{delay:g=0,duration:m=300,easing:x=He,tick:E=Y,css:k}=c||gt,N={start:Qe()+g,b:p};p||(N.group=I,I.r+=1),"inert"in e&&(p?u!==void 0&&(e.inert=u):(u=e.inert,e.inert=!0)),s||a?a=N:(k&&(h(),r=Se(e,f,p,m,g,x,k)),p&&E(0,1),s=y(N,m),se(()=>ge(e,p,"start")),Je(O=>{if(a&&O>a.start&&(s=y(a,m),a=null,ge(e,s.b,"start"),k&&(h(),r=Se(e,f,s.b,s.duration,0,x,c.css))),s){if(O>=s.end)E(f=s.b,1-f),ge(e,s.b,"end"),a||(s.b?h():--s.group.r||J(s.group.c)),s=null;else if(O>=s.start){const M=O-s.start;f=s.a+s.d*x(M/s.duration),E(f,1-f)}}return!!(s||a)}))}return{run(p){$e(c)?pt().then(()=>{c=c({direction:p?"in":"out"}),_(p)}):_(p)},end(){h(),s=a=null}}}function fe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Me(e){e&&e.c()}function _e(e,t,n){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),se(()=>{const c=e.$$.on_mount.map(Te).filter($e);e.$$.on_destroy?e.$$.on_destroy.push(...c):J(c),e.$$.on_mount=[]}),i.forEach(se)}function ye(e,t){const n=e.$$;n.fragment!==null&&(ht(n.after_update),J(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function mt(e,t){e.$$.dirty[0]===-1&&(z.push(e),ut(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(e,t,n,o,i,c,f=null,s=[-1]){const a=ie;oe(e);const r=e.$$={fragment:null,ctx:[],props:c,update:Y,not_equal:i,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Ee(),dirty:s,skip_bound:!1,root:t.target||a.$$.root};f&&f(r.root);let u=!1;if(r.ctx=n?n(e,t.props||{},(h,y,..._)=>{const p=_.length?_[0]:y;return r.ctx&&i(r.ctx[h],r.ctx[h]=p)&&(!r.skip_bound&&r.bound[h]&&r.bound[h](p),u&&mt(e,h)),y}):[],r.update(),u=!0,J(r.before_update),r.fragment=o?o(r.ctx):!1,t.target){if(t.hydrate){const h=nt(t.target);r.fragment&&r.fragment.l(h),h.forEach(B)}else r.fragment&&r.fragment.c();t.intro&&C(e.$$.fragment),_e(e,t.target,t.anchor),Fe()}oe(a)}class ke{constructor(){he(this,"$$");he(this,"$$set")}$destroy(){ye(this,1),this.$destroy=Y}$on(t,n){if(!$e(n))return Y;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(t){this.$$set&&!Ke(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const _t="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_t);var ze=(e=>(e.FLAT="FLAT",e.POINTY="POINTY",e))(ze||{});ze.POINTY;var ne=(e=>(e[e.N=0]="N",e[e.NE=1]="NE",e[e.E=2]="E",e[e.SE=3]="SE",e[e.S=4]="S",e[e.SW=5]="SW",e[e.W=6]="W",e[e.NW=7]="NW",e))(ne||{});ne.E,ne.N,ne.S,ne.W;function Le(e,t,n){const o=e.slice();o[7]=t[n],o[10]=n;const i=o[0][o[7].key]||0;return o[8]=i,o}function je(e,t,n){const o=e.slice();return o[7]=t[n],o[10]=n,o}function Re(e){let t,n;return{c(){t=b("clipPath"),n=b("path"),l(n,"d",e[2](e[7].x,e[7].y,5)),l(t,"id","clip-"+e[10])},m(o,i){W(o,t,i),d(t,n)},p:Y,d(o){o&&B(t)}}}function Ie(e){let t,n,o,i,c,f,s,a,r;return{c(){t=b("g"),n=b("path"),o=b("rect"),f=b("foreignObject"),s=w("div"),a=w("i"),r=T(),l(n,"d",e[2](e[7].x,e[7].y,5)),l(n,"stroke",e[7].color),l(n,"stroke-width","2"),l(n,"stroke-linejoin","round"),l(n,"stroke-linecap","round"),l(n,"fill","#2c2c2c"),l(n,"fill-opacity","0.5"),l(o,"x",e[7].x-v),l(o,"y",i=e[7].y+v-2*v*(e[8]/100)),l(o,"width",2*v),l(o,"height",c=2*v*(e[8]/100)),l(o,"fill",e[7].color),l(o,"clip-path","url(#clip-"+e[10]+")"),l(o,"class","transition-all duration-300 ease-out"),ot(o,"opacity","0.8"),l(a,"class","fa-solid "+e[7].icon+" text-[1.2rem]"),l(s,"class","w-full h-full flex items-center justify-center text-white drop-shadow-sm"),l(f,"x",e[7].x-v),l(f,"y",e[7].y-v),l(f,"width",2*v),l(f,"height",2*v),l(f,"class","pointer-events-none")},m(u,h){W(u,t,h),d(t,n),d(t,o),d(t,f),d(f,s),d(s,a),d(s,r)},p(u,h){h&1&&i!==(i=u[7].y+v-2*v*(u[8]/100))&&l(o,"y",i),h&1&&c!==(c=2*v*(u[8]/100))&&l(o,"height",c)},d(u){u&&B(t)}}}function yt(e){let t,n,o=fe(e[1]),i=[];for(let s=0;s<o.length;s+=1)i[s]=Re(je(e,o,s));let c=fe(e[1]),f=[];for(let s=0;s<c.length;s+=1)f[s]=Ie(Le(e,c,s));return{c(){t=b("svg"),n=b("defs");for(let s=0;s<i.length;s+=1)i[s].c();for(let s=0;s<f.length;s+=1)f[s].c();l(t,"width","250"),l(t,"height","200"),l(t,"viewBox",wt),l(t,"class","overflow-visible drop-shadow-md")},m(s,a){W(s,t,a),d(t,n);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(n,null);for(let r=0;r<f.length;r+=1)f[r]&&f[r].m(t,null)},p(s,[a]){if(a&6){o=fe(s[1]);let r;for(r=0;r<o.length;r+=1){const u=je(s,o,r);i[r]?i[r].p(u,a):(i[r]=Re(u),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}if(a&7){c=fe(s[1]);let r;for(r=0;r<c.length;r+=1){const u=Le(s,c,r);f[r]?f[r].p(u,a):(f[r]=Ie(u),f[r].c(),f[r].m(t,null))}for(;r<f.length;r+=1)f[r].d(1);f.length=c.length}},i:Y,o:Y,d(s){s&&B(t),Ne(i,s),Ne(f,s)}}}const v=30,$t=5,X=125,U=40,wt="0 0 250 200";function vt(e,t,n){let o={health:100,armor:0,hunger:100,thirst:100,stress:0};be(()=>{window.addEventListener("message",u=>{var h;((h=u==null?void 0:u.data)==null?void 0:h.action)==="updateStatus"&&n(0,o={...o,...u.data.data})})});const i=v+$t/Math.sqrt(3),c=Math.sqrt(3)*i/2,f=1.5*i,s=[{key:"stress",icon:"fa-bolt",color:"#88b04b",label:"Energy",x:X,y:U},{key:"thirst",icon:"fa-glass-water",color:"#3498db",label:"Drink",x:X-c,y:U+f},{key:"armor",icon:"fa-shield-halved",color:"#9b59b6",label:"Defense",x:X+c,y:U+f},{key:"hunger",icon:"fa-drumstick-bite",color:"#e67e22",label:"Food",x:X-2*c,y:U+2*f},{key:"health",icon:"fa-heart",color:"#e91e63",label:"Health",x:X,y:U+2*f},{key:"stamina",icon:"fa-person-running",color:"#fbbf24",label:"Stamina",x:X+2*c,y:U+2*f}],a=(u,h)=>{const y=[];for(let _=0;_<6;_++){const p=30+60*_,g=Math.PI/180*p;y.push({x:u+v*Math.cos(g),y:h+v*Math.sin(g)})}return{corners:y}};return[o,s,(u,h,y=5)=>{const{corners:_}=a(u,h);let p="";for(let g=0;g<_.length;g++){const m=_[g],x=_[(g+1)%_.length],E=_[(g-1+_.length)%_.length],k=E.x-m.x,N=E.y-m.y,O=Math.sqrt(k*k+N*N),M=x.x-m.x,q=x.y-m.y,V=Math.sqrt(M*M+q*q),S=m.x+k/O*y,L=m.y+N/O*y,ee=m.x+M/V*y,j=m.y+q/V*y;g===0?p+=`M ${S} ${L}`:p+=`L ${S} ${L}`,p+=`Q ${m.x} ${m.y} ${ee} ${j}`}return p+="Z",p}]}class bt extends ke{constructor(t){super(),xe(this,t,vt,yt,we,{})}}function Ce(e,{delay:t=0,duration:n=400,easing:o=He}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:c=>`opacity: ${c*i}`}}function Be(e){let t,n,o,i=(e[4]===0?"":e[4]===1?"R":e[4]-1)+"",c,f,s,a=(e[4]===0?"R":e[4])+"",r,u,h,y=(e[4]===0?1:e[4]+1)+"",_,p,g,m,x,E,k=e[1].toString().padStart(3,"0")+"",N,O,M,q,V,S,L,ee,j,P,re,R,le,D,A;return{c(){t=w("div"),n=w("div"),o=w("span"),c=Z(i),f=T(),s=w("div"),r=Z(a),u=T(),h=w("span"),_=Z(y),p=T(),g=w("div"),m=w("span"),m.textContent="KMH",x=T(),E=w("span"),N=Z(k),O=T(),M=w("div"),M.innerHTML='<i class="fa-solid fa-user-slash text-red-500 text-xs drop-shadow-md animate-pulse"></i>',q=T(),V=w("div"),S=b("svg"),L=b("foreignObject"),ee=w("i"),j=b("path"),P=b("path"),R=b("path"),l(o,"class","text-sm font-bold text-white/40"),l(s,"class","w-6 h-7 bg-[#0ea5e9] rounded flex items-center justify-center text-lg font-bold shadow-[0_0_10px_rgba(14,165,233,0.4)]"),l(h,"class","text-sm font-bold text-white/40"),l(n,"class","flex flex-col items-center justify-center gap-1 w-8"),l(m,"class","text-[10px] font-bold text-white/60 self-start ml-1 tracking-wider"),l(E,"class","text-5xl font-mono font-bold leading-none tracking-tighter tabular-nums"),l(M,"class","mt-1"),l(g,"class","flex flex-col items-center"),l(ee,"class","fa-solid fa-gas-pump text-[10px] text-white/60"),l(L,"x","40"),l(L,"y","0"),l(L,"width","12"),l(L,"height","12"),l(j,"d","M 10 90 A 60 60 0 0 1 10 10"),l(j,"fill","none"),l(j,"stroke","#ffffff"),l(j,"stroke-opacity","0.1"),l(j,"stroke-width","4"),l(j,"stroke-linecap","round"),l(P,"d","M 10 90 A 60 60 0 0 1 10 10"),l(P,"fill","none"),l(P,"stroke","white"),l(P,"stroke-width","4"),l(P,"stroke-linecap","round"),l(P,"stroke-dasharray","130"),l(P,"stroke-dashoffset",re=130-e[3]*130),l(P,"class","transition-all duration-100 ease-linear"),l(R,"d","M 20 70 A 40 40 0 0 1 20 30"),l(R,"fill","none"),l(R,"stroke","#ef4444"),l(R,"stroke-width","3"),l(R,"stroke-linecap","round"),l(R,"stroke-opacity",le=e[2]<20?1:.3),l(S,"class","w-full h-full overflow-visible"),l(S,"viewBox","0 0 60 100"),l(V,"class","relative w-16 h-24 flex items-center justify-center"),l(t,"class","flex items-center gap-3 font-sans text-white")},m($,H){W($,t,H),d(t,n),d(n,o),d(o,c),d(n,f),d(n,s),d(s,r),d(n,u),d(n,h),d(h,_),d(t,p),d(t,g),d(g,m),d(g,x),d(g,E),d(E,N),d(g,O),d(g,M),d(t,q),d(t,V),d(V,S),d(S,L),d(L,ee),d(S,j),d(S,P),d(S,R),A=!0},p($,H){(!A||H&16)&&i!==(i=($[4]===0?"":$[4]===1?"R":$[4]-1)+"")&&ce(c,i),(!A||H&16)&&a!==(a=($[4]===0?"R":$[4])+"")&&ce(r,a),(!A||H&16)&&y!==(y=($[4]===0?1:$[4]+1)+"")&&ce(_,y),(!A||H&2)&&k!==(k=$[1].toString().padStart(3,"0")+"")&&ce(N,k),(!A||H&8&&re!==(re=130-$[3]*130))&&l(P,"stroke-dashoffset",re),(!A||H&4&&le!==(le=$[2]<20?1:.3))&&l(R,"stroke-opacity",le)},i($){A||($&&se(()=>{A&&(D||(D=Oe(t,Ce,{duration:200},!0)),D.run(1))}),A=!0)},o($){$&&(D||(D=Oe(t,Ce,{duration:200},!1)),D.run(0)),A=!1},d($){$&&B(t),$&&D&&D.end()}}}function xt(e){let t,n=e[0]&&Be(e);return{c(){n&&n.c(),t=qe()},m(o,i){n&&n.m(o,i),W(o,t,i)},p(o,[i]){o[0]?n?(n.p(o,i),i&1&&C(n,1)):(n=Be(o),n.c(),C(n,1),n.m(t.parentNode,t)):n&&(Xe(),Q(n,1,1,()=>{n=null}),Ue())},i(o){C(n)},o(o){Q(n)},d(o){o&&B(t),n&&n.d(o)}}}function kt(e,t,n){let o=!1,i=0,c=0,f=0,s=1;return be(()=>{window.addEventListener("message",a=>{const{action:r,data:u}=a.data;r==="updateVehicle"&&(console.log("Vehicle HUD Update:",u),n(0,o=u.show),o&&(n(1,i=Math.floor(u.speed)),n(2,c=u.fuel),n(3,f=u.rpm),n(4,s=u.gear)))})}),[o,i,c,f,s]}class Et extends ke{constructor(t){super(),xe(this,t,kt,xt,we,{})}}function De(e){let t,n,o,i,c,f,s;return o=new bt({}),f=new Et({}),{c(){t=w("main"),n=w("div"),Me(o.$$.fragment),i=T(),c=w("div"),Me(f.$$.fragment),l(n,"class","fixed bottom-8 left-8"),l(c,"class","fixed bottom-8 right-8")},m(a,r){W(a,t,r),d(t,n),_e(o,n,null),d(t,i),d(t,c),_e(f,c,null),s=!0},i(a){s||(C(o.$$.fragment,a),C(f.$$.fragment,a),s=!0)},o(a){Q(o.$$.fragment,a),Q(f.$$.fragment,a),s=!1},d(a){a&&B(t),ye(o),ye(f)}}}function Nt(e){let t,n,o=e[0]&&De();return{c(){o&&o.c(),t=qe()},m(i,c){o&&o.m(i,c),W(i,t,c),n=!0},p(i,[c]){i[0]?o?c&1&&C(o,1):(o=De(),o.c(),C(o,1),o.m(t.parentNode,t)):o&&(Xe(),Q(o,1,1,()=>{o=null}),Ue())},i(i){n||(C(o),n=!0)},o(i){Q(o),n=!1},d(i){i&&B(t),o&&o.d(i)}}}function St(e,t,n){let o=!0;return be(()=>{window.addEventListener("message",i=>{const{action:c,data:f}=i.data;c==="setVisible"&&n(0,o=f)})}),[o]}class Pt extends ke{constructor(t){super(),xe(this,t,St,Nt,we,{})}}new Pt({target:document.getElementById("app")});
