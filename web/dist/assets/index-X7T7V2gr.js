var Ze=Object.defineProperty;var Ge=(e,t,n)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var he=(e,t,n)=>Ge(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const f of i)if(f.type==="childList")for(const c of f.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const f={};return i.integrity&&(f.integrity=i.integrity),i.referrerPolicy&&(f.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?f.credentials="include":i.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(i){if(i.ep)return;i.ep=!0;const f=n(i);fetch(i.href,f)}})();function Y(){}const He=e=>e;function Te(e){return e()}function Ee(){return Object.create(null)}function J(e){e.forEach(Te)}function $e(e){return typeof e=="function"}function we(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ke(e){return Object.keys(e).length===0}const Ye=typeof window<"u";let Qe=Ye?()=>window.performance.now():()=>Date.now(),ve=Ye?e=>requestAnimationFrame(e):Y;const G=new Set;function Ve(e){G.forEach(t=>{t.c(e)||(G.delete(t),t.f())}),G.size!==0&&ve(Ve)}function Je(e){let t;return G.size===0&&ve(Ve),{promise:new Promise(n=>{G.add(t={c:e,f:n})}),abort(){G.delete(t)}}}function h(e,t){e.appendChild(t)}function We(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function et(e){const t=v("style");return t.textContent="/* empty */",tt(We(e),t),t.sheet}function tt(e,t){return h(e.head||e,t),t.sheet}function W(e,t,n){e.insertBefore(t,n||null)}function B(e){e.parentNode&&e.parentNode.removeChild(e)}function Ne(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Z(e){return document.createTextNode(e)}function T(){return Z(" ")}function qe(){return Z("")}function l(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function nt(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.data!==t&&(e.data=t)}function ot(e,t,n,o){e.style.setProperty(t,n,"")}function it(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}const ue=new Map;let de=0;function st(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function rt(e,t){const n={stylesheet:et(t),rules:{}};return ue.set(e,n),n}function Se(e,t,n,o,i,f,c,s=0){const u=16.666/o;let r=`{
`;for(let m=0;m<=1;m+=u){const x=t+(n-t)*f(m);r+=m*100+`%{${c(x,1-x)}}
`}const a=r+`100% {${c(n,1-n)}}
}`,d=`__svelte_${st(a)}_${s}`,y=We(e),{stylesheet:_,rules:p}=ue.get(y)||rt(y,e);p[d]||(p[d]=!0,_.insertRule(`@keyframes ${d} ${a}`,_.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${o}ms linear ${i}ms 1 both`,de+=1,d}function lt(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?f=>f.indexOf(t)<0:f=>f.indexOf("__svelte")===-1),i=n.length-o.length;i&&(e.style.animation=o.join(", "),de-=i,de||ct())}function ct(){ve(()=>{de||(ue.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&B(t)}),ue.clear())})}let ie;function oe(e){ie=e}function ft(){if(!ie)throw new Error("Function called outside component initialization");return ie}function be(e){ft().$$.on_mount.push(e)}const z=[],Pe=[];let K=[];const Ae=[],at=Promise.resolve();let me=!1;function ut(){me||(me=!0,at.then(Fe))}function se(e){K.push(e)}const pe=new Set;let F=0;function Fe(){if(F!==0)return;const e=ie;do{try{for(;F<z.length;){const t=z[F];F++,oe(t),dt(t.$$)}}catch(t){throw z.length=0,F=0,t}for(oe(null),z.length=0,F=0;Pe.length;)Pe.pop()();for(let t=0;t<K.length;t+=1){const n=K[t];pe.has(n)||(pe.add(n),n())}K.length=0}while(z.length);for(;Ae.length;)Ae.pop()();me=!1,pe.clear(),oe(e)}function dt(e){if(e.fragment!==null){e.update(),J(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(se)}}function ht(e){const t=[],n=[];K.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),K=t}let te;function pt(){return te||(te=Promise.resolve(),te.then(()=>{te=null})),te}function ge(e,t,n){e.dispatchEvent(it(`${t?"intro":"outro"}${n}`))}const ae=new Set;let I;function Xe(){I={r:0,c:[],p:I}}function Ue(){I.r||J(I.c),I=I.p}function C(e,t){e&&e.i&&(ae.delete(e),e.i(t))}function Q(e,t,n,o){if(e&&e.o){if(ae.has(e))return;ae.add(e),I.c.push(()=>{ae.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}const gt={duration:0};function Oe(e,t,n,o){let f=t(e,n,{direction:"both"}),c=o?0:1,s=null,u=null,r=null,a;function d(){r&&lt(e,r)}function y(p,g){const m=p.b-c;return g*=Math.abs(m),{a:c,b:p.b,d:m,duration:g,start:p.start,end:p.start+g,group:p.group}}function _(p){const{delay:g=0,duration:m=300,easing:x=He,tick:E=Y,css:k}=f||gt,N={start:Qe()+g,b:p};p||(N.group=I,I.r+=1),"inert"in e&&(p?a!==void 0&&(e.inert=a):(a=e.inert,e.inert=!0)),s||u?u=N:(k&&(d(),r=Se(e,c,p,m,g,x,k)),p&&E(0,1),s=y(N,m),se(()=>ge(e,p,"start")),Je(O=>{if(u&&O>u.start&&(s=y(u,m),u=null,ge(e,s.b,"start"),k&&(d(),r=Se(e,c,s.b,s.duration,0,x,f.css))),s){if(O>=s.end)E(c=s.b,1-c),ge(e,s.b,"end"),u||(s.b?d():--s.group.r||J(s.group.c)),s=null;else if(O>=s.start){const M=O-s.start;c=s.a+s.d*x(M/s.duration),E(c,1-c)}}return!!(s||u)}))}return{run(p){$e(f)?pt().then(()=>{f=f({direction:p?"in":"out"}),_(p)}):_(p)},end(){d(),s=u=null}}}function fe(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Me(e){e&&e.c()}function _e(e,t,n){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),se(()=>{const f=e.$$.on_mount.map(Te).filter($e);e.$$.on_destroy?e.$$.on_destroy.push(...f):J(f),e.$$.on_mount=[]}),i.forEach(se)}function ye(e,t){const n=e.$$;n.fragment!==null&&(ht(n.after_update),J(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function mt(e,t){e.$$.dirty[0]===-1&&(z.push(e),ut(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(e,t,n,o,i,f,c=null,s=[-1]){const u=ie;oe(e);const r=e.$$={fragment:null,ctx:[],props:f,update:Y,not_equal:i,bound:Ee(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Ee(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};c&&c(r.root);let a=!1;if(r.ctx=n?n(e,t.props||{},(d,y,..._)=>{const p=_.length?_[0]:y;return r.ctx&&i(r.ctx[d],r.ctx[d]=p)&&(!r.skip_bound&&r.bound[d]&&r.bound[d](p),a&&mt(e,d)),y}):[],r.update(),a=!0,J(r.before_update),r.fragment=o?o(r.ctx):!1,t.target){if(t.hydrate){const d=nt(t.target);r.fragment&&r.fragment.l(d),d.forEach(B)}else r.fragment&&r.fragment.c();t.intro&&C(e.$$.fragment),_e(e,t.target,t.anchor),Fe()}oe(u)}class ke{constructor(){he(this,"$$");he(this,"$$set")}$destroy(){ye(this,1),this.$destroy=Y}$on(t,n){if(!$e(n))return Y;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(t){this.$$set&&!Ke(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const _t="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(_t);var ze=(e=>(e.FLAT="FLAT",e.POINTY="POINTY",e))(ze||{});ze.POINTY;var ne=(e=>(e[e.N=0]="N",e[e.NE=1]="NE",e[e.E=2]="E",e[e.SE=3]="SE",e[e.S=4]="S",e[e.SW=5]="SW",e[e.W=6]="W",e[e.NW=7]="NW",e))(ne||{});ne.E,ne.N,ne.S,ne.W;function Le(e,t,n){const o=e.slice();o[7]=t[n],o[10]=n;const i=o[0][o[7].key]||0;return o[8]=i,o}function je(e,t,n){const o=e.slice();return o[7]=t[n],o[10]=n,o}function Re(e){let t,n;return{c(){t=b("clipPath"),n=b("path"),l(n,"d",e[2](e[7].x,e[7].y,5)),l(t,"id","clip-"+e[10])},m(o,i){W(o,t,i),h(t,n)},p:Y,d(o){o&&B(t)}}}function Ie(e){let t,n,o,i,f,c,s,u,r;return{c(){t=b("g"),n=b("path"),o=b("rect"),c=b("foreignObject"),s=v("div"),u=v("i"),r=T(),l(n,"d",e[2](e[7].x,e[7].y,5)),l(n,"stroke",e[7].color),l(n,"stroke-width","2"),l(n,"stroke-linejoin","round"),l(n,"stroke-linecap","round"),l(n,"fill","#2c2c2c"),l(n,"fill-opacity","0.5"),l(o,"x",e[7].x-w),l(o,"y",i=e[7].y+w-2*w*(e[8]/100)),l(o,"width",2*w),l(o,"height",f=2*w*(e[8]/100)),l(o,"fill",e[7].color),l(o,"clip-path","url(#clip-"+e[10]+")"),l(o,"class","transition-all duration-300 ease-out"),ot(o,"opacity","0.8"),l(u,"class","fa-solid "+e[7].icon+" text-[1.2rem]"),l(s,"class","w-full h-full flex items-center justify-center text-white drop-shadow-sm"),l(c,"x",e[7].x-w),l(c,"y",e[7].y-w),l(c,"width",2*w),l(c,"height",2*w),l(c,"class","pointer-events-none")},m(a,d){W(a,t,d),h(t,n),h(t,o),h(t,c),h(c,s),h(s,u),h(s,r)},p(a,d){d&1&&i!==(i=a[7].y+w-2*w*(a[8]/100))&&l(o,"y",i),d&1&&f!==(f=2*w*(a[8]/100))&&l(o,"height",f)},d(a){a&&B(t)}}}function yt(e){let t,n,o=fe(e[1]),i=[];for(let s=0;s<o.length;s+=1)i[s]=Re(je(e,o,s));let f=fe(e[1]),c=[];for(let s=0;s<f.length;s+=1)c[s]=Ie(Le(e,f,s));return{c(){t=b("svg"),n=b("defs");for(let s=0;s<i.length;s+=1)i[s].c();for(let s=0;s<c.length;s+=1)c[s].c();l(t,"width","250"),l(t,"height","200"),l(t,"viewBox",wt),l(t,"class","overflow-visible drop-shadow-md")},m(s,u){W(s,t,u),h(t,n);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(n,null);for(let r=0;r<c.length;r+=1)c[r]&&c[r].m(t,null)},p(s,[u]){if(u&6){o=fe(s[1]);let r;for(r=0;r<o.length;r+=1){const a=je(s,o,r);i[r]?i[r].p(a,u):(i[r]=Re(a),i[r].c(),i[r].m(n,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}if(u&7){f=fe(s[1]);let r;for(r=0;r<f.length;r+=1){const a=Le(s,f,r);c[r]?c[r].p(a,u):(c[r]=Ie(a),c[r].c(),c[r].m(t,null))}for(;r<c.length;r+=1)c[r].d(1);c.length=f.length}},i:Y,o:Y,d(s){s&&B(t),Ne(i,s),Ne(c,s)}}}const w=30,$t=5,X=125,U=40,wt="0 0 250 200";function vt(e,t,n){let o={health:100,armor:0,hunger:100,thirst:100,stress:0};be(()=>{window.addEventListener("message",a=>{var d;((d=a==null?void 0:a.data)==null?void 0:d.action)==="updateStatus"&&n(0,o={...o,...a.data.data})})});const i=w+$t/Math.sqrt(3),f=Math.sqrt(3)*i/2,c=1.5*i,s=[{key:"stress",icon:"fa-bolt",color:"#88b04b",label:"Energy",x:X,y:U},{key:"thirst",icon:"fa-glass-water",color:"#3498db",label:"Drink",x:X-f,y:U+c},{key:"armor",icon:"fa-shield-halved",color:"#9b59b6",label:"Defense",x:X+f,y:U+c},{key:"hunger",icon:"fa-drumstick-bite",color:"#e67e22",label:"Food",x:X-2*f,y:U+2*c},{key:"health",icon:"fa-heart",color:"#e91e63",label:"Health",x:X,y:U+2*c},{key:"stamina",icon:"fa-person-running",color:"#fbbf24",label:"Stamina",x:X+2*f,y:U+2*c}],u=(a,d)=>{const y=[];for(let _=0;_<6;_++){const p=30+60*_,g=Math.PI/180*p;y.push({x:a+w*Math.cos(g),y:d+w*Math.sin(g)})}return{corners:y}};return[o,s,(a,d,y=5)=>{const{corners:_}=u(a,d);let p="";for(let g=0;g<_.length;g++){const m=_[g],x=_[(g+1)%_.length],E=_[(g-1+_.length)%_.length],k=E.x-m.x,N=E.y-m.y,O=Math.sqrt(k*k+N*N),M=x.x-m.x,q=x.y-m.y,V=Math.sqrt(M*M+q*q),S=m.x+k/O*y,L=m.y+N/O*y,ee=m.x+M/V*y,j=m.y+q/V*y;g===0?p+=`M ${S} ${L}`:p+=`L ${S} ${L}`,p+=`Q ${m.x} ${m.y} ${ee} ${j}`}return p+="Z",p}]}class bt extends ke{constructor(t){super(),xe(this,t,vt,yt,we,{})}}function Ce(e,{delay:t=0,duration:n=400,easing:o=He}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:f=>`opacity: ${f*i}`}}function Be(e){let t,n,o,i=(e[4]===0?"":e[4]===1?"R":e[4]-1)+"",f,c,s,u=(e[4]===0?"R":e[4])+"",r,a,d,y=(e[4]===0?1:e[4]+1)+"",_,p,g,m,x,E,k=e[1].toString().padStart(3,"0")+"",N,O,M,q,V,S,L,ee,j,P,re,R,le,D,A;return{c(){t=v("div"),n=v("div"),o=v("span"),f=Z(i),c=T(),s=v("div"),r=Z(u),a=T(),d=v("span"),_=Z(y),p=T(),g=v("div"),m=v("span"),m.textContent="KMH",x=T(),E=v("span"),N=Z(k),O=T(),M=v("div"),M.innerHTML='<i class="fa-solid fa-user-slash text-red-500 text-xs drop-shadow-md animate-pulse"></i>',q=T(),V=v("div"),S=b("svg"),L=b("foreignObject"),ee=v("i"),j=b("path"),P=b("path"),R=b("path"),l(o,"class","text-sm font-bold text-white/40"),l(s,"class","w-6 h-7 bg-[#0ea5e9] rounded flex items-center justify-center text-lg font-bold shadow-[0_0_10px_rgba(14,165,233,0.4)]"),l(d,"class","text-sm font-bold text-white/40"),l(n,"class","flex flex-col items-center justify-center gap-1 w-8"),l(m,"class","text-[10px] font-bold text-white/60 self-start ml-1 tracking-wider"),l(E,"class","text-5xl font-mono font-bold leading-none tracking-tighter tabular-nums"),l(M,"class","mt-1"),l(g,"class","flex flex-col items-center"),l(ee,"class","fa-solid fa-gas-pump text-[10px] text-white/60"),l(L,"x","40"),l(L,"y","0"),l(L,"width","12"),l(L,"height","12"),l(j,"d","M 10 90 A 60 60 0 0 1 10 10"),l(j,"fill","none"),l(j,"stroke","#ffffff"),l(j,"stroke-opacity","0.1"),l(j,"stroke-width","4"),l(j,"stroke-linecap","round"),l(P,"d","M 10 90 A 60 60 0 0 1 10 10"),l(P,"fill","none"),l(P,"stroke","white"),l(P,"stroke-width","4"),l(P,"stroke-linecap","round"),l(P,"stroke-dasharray","130"),l(P,"stroke-dashoffset",re=130-e[3]*130),l(P,"class","transition-all duration-100 ease-linear"),l(R,"d","M 20 70 A 40 40 0 0 1 20 30"),l(R,"fill","none"),l(R,"stroke","#ef4444"),l(R,"stroke-width","3"),l(R,"stroke-linecap","round"),l(R,"stroke-opacity",le=e[2]<20?1:.3),l(S,"class","w-full h-full overflow-visible"),l(S,"viewBox","0 0 60 100"),l(V,"class","relative w-16 h-24 flex items-center justify-center"),l(t,"class","flex items-center gap-3 font-sans text-white")},m($,H){W($,t,H),h(t,n),h(n,o),h(o,f),h(n,c),h(n,s),h(s,r),h(n,a),h(n,d),h(d,_),h(t,p),h(t,g),h(g,m),h(g,x),h(g,E),h(E,N),h(g,O),h(g,M),h(t,q),h(t,V),h(V,S),h(S,L),h(L,ee),h(S,j),h(S,P),h(S,R),A=!0},p($,H){(!A||H&16)&&i!==(i=($[4]===0?"":$[4]===1?"R":$[4]-1)+"")&&ce(f,i),(!A||H&16)&&u!==(u=($[4]===0?"R":$[4])+"")&&ce(r,u),(!A||H&16)&&y!==(y=($[4]===0?1:$[4]+1)+"")&&ce(_,y),(!A||H&2)&&k!==(k=$[1].toString().padStart(3,"0")+"")&&ce(N,k),(!A||H&8&&re!==(re=130-$[3]*130))&&l(P,"stroke-dashoffset",re),(!A||H&4&&le!==(le=$[2]<20?1:.3))&&l(R,"stroke-opacity",le)},i($){A||($&&se(()=>{A&&(D||(D=Oe(t,Ce,{duration:200},!0)),D.run(1))}),A=!0)},o($){$&&(D||(D=Oe(t,Ce,{duration:200},!1)),D.run(0)),A=!1},d($){$&&B(t),$&&D&&D.end()}}}function xt(e){let t,n=e[0]&&Be(e);return{c(){n&&n.c(),t=qe()},m(o,i){n&&n.m(o,i),W(o,t,i)},p(o,[i]){o[0]?n?(n.p(o,i),i&1&&C(n,1)):(n=Be(o),n.c(),C(n,1),n.m(t.parentNode,t)):n&&(Xe(),Q(n,1,1,()=>{n=null}),Ue())},i(o){C(n)},o(o){Q(n)},d(o){o&&B(t),n&&n.d(o)}}}function kt(e,t,n){let o=!1,i=0,f=0,c=0,s=1;return be(()=>{window.addEventListener("message",u=>{const{action:r,data:a}=u.data;r==="updateVehicle"&&(console.log("Vehicle HUD Update:",a),n(0,o=a.show),o&&(n(1,i=Math.floor(a.speed)),n(2,f=a.fuel),n(3,c=a.rpm),n(4,s=a.gear)))})}),[o,i,f,c,s]}class Et extends ke{constructor(t){super(),xe(this,t,kt,xt,we,{})}}function De(e){let t,n,o,i,f;return n=new bt({}),i=new Et({}),{c(){t=v("main"),Me(n.$$.fragment),o=T(),Me(i.$$.fragment),l(t,"class","fixed bottom-8 right-8 flex items-center gap-6 pr-8")},m(c,s){W(c,t,s),_e(n,t,null),h(t,o),_e(i,t,null),f=!0},i(c){f||(C(n.$$.fragment,c),C(i.$$.fragment,c),f=!0)},o(c){Q(n.$$.fragment,c),Q(i.$$.fragment,c),f=!1},d(c){c&&B(t),ye(n),ye(i)}}}function Nt(e){let t,n,o=e[0]&&De();return{c(){o&&o.c(),t=qe()},m(i,f){o&&o.m(i,f),W(i,t,f),n=!0},p(i,[f]){i[0]?o?f&1&&C(o,1):(o=De(),o.c(),C(o,1),o.m(t.parentNode,t)):o&&(Xe(),Q(o,1,1,()=>{o=null}),Ue())},i(i){n||(C(o),n=!0)},o(i){Q(o),n=!1},d(i){i&&B(t),o&&o.d(i)}}}function St(e,t,n){let o=!0;return be(()=>{window.addEventListener("message",i=>{const{action:f,data:c}=i.data;f==="setVisible"&&n(0,o=c)})}),[o]}class Pt extends ke{constructor(t){super(),xe(this,t,St,Nt,we,{})}}new Pt({target:document.getElementById("app")});
